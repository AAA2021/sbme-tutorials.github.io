<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Week 9: Heaps, Priority Queues (ADT), and Shortest Path Problem</title>
  <meta name="description" content="These pages shall contain all the materials corresponding to courses, assigned to me, in the SBME department at Cairo University.">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/2018/data-structures/notes/9_week9.html">
  <link rel="alternate" type="application/rss+xml" title="Tutorials for SBME Students" href="/feed.xml">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    <!-- 
     -->
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <a class="site-title" href="/2018/data-structures/data-structures.html">SBE201</a>
      
    
      
    
      
    
      
    
      
    

    
    
<!--   
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/10_week10.html">Week 7 - Part1</a>
            
          
            
            
            <a class="page-link" href="/2018/cv/assignments/1_assignment1.html">Assignment 1: Images, Histograms, Gradients</a>
            
          
            
            
            <a class="page-link" href="/2018/cv/notes/1_week1.html">Week 1: Warming up with Python Basics</a>
            
          
            
            
            <a class="page-link" href="/2018/dsp/notes/1_week1.html">Week 1: Signals in Python</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/assignments/1_week1a.html">Assignment 1 - part 1: Your first experience with Git and our Github classroom</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/1_week1a.html">Week 1 - Part 1: Basics of C++</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/assignments/1_week1b.html">Assignment 1 - part 2: Revision on C++</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/1_week1b.html">Week 1 - Part 2: Basics of Git and Github</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/assignments/1_week1re.html">Task 1: Resubmission</a>
            
          
            
            
            <a class="page-link" href="/2018/cv/assignments/2_assignment2.html">Assignment 2</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/2_code_formatting.html">Code Styling (formatting): Enhancing Your Code Readability</a>
            
          
            
            
            <a class="page-link" href="/2018/cv/notes/2_week2.html">Week 2: Image Processing 1</a>
            
          
            
            
            <a class="page-link" href="/2018/dsp/notes/2_week2.html">Week 2: Signals and Basis Functions: Composition and Decomposition</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/assignments/2_week2a.html">Assignment 2: C++ Basic Operations on Memory</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/2_week2a.html">Week 2 - Part1: Memory, pointers, and references</a>
            
          
            
            
            <a class="page-link" href="/2018/cv/assignments/3_assignment3.html">Assignment 3</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/3_faq1.html">FAQ #1: Why exposing namespaces is a bad practice</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/3_faq2.html">FAQ #2: Why `int *p = &amp;x` != `*p = &amp;x`</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/3_faq3.html">FAQ #3: Why not using `std::cin` inside functions of particular logic</a>
            
          
            
            
            <a class="page-link" href="/2018/cv/notes/3_week3.html">Week 3: Images in Frequency Domain</a>
            
          
            
            
            <a class="page-link" href="/2018/dsp/notes/3_week3.html">Week 3: Euler&#39;s Identity, Sinusoids, and Fourier</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/assignments/3_week3a.html">Assignment 3 - Part 1: Arrays</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/3_week3a.html">Week 3 - Part1: Static Arrays and Dynamic Arrays</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/assignments/3_week3b.html">Assignment 3 - Part 2: Struct and Functions Overloading</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/3_week3b.html">Week 3 - Part2: Command Line Arguments and Compilation of Multiple Files</a>
            
          
            
            
          
            
            
            <a class="page-link" href="/2018/cv/notes/4_week4.html">Week 4: Image Filtering and Edge Detection</a>
            
          
            
            
            <a class="page-link" href="/2018/dsp/notes/4_week4.html">Week 3: Euler&#39;s Identity, Sinusoids, and Fourier</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/assignments/4_week4a.html">Group Assignment 4 - Part 1: Git for Teams and Markdown Resumes</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/4_week4a.html">Week 4 - Part1: Struct, Stacks, Linked Lists, and Queues</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/assignments/4_week4b.html">Assignment 4: Stacks and Queues</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/4_week4b.html">Week 4 - Part2: More on Structs, Linked Lists, Naming Conventions, Const-correctness, Build Systems, and Git for Teams</a>
            
          
            
            
            <a class="page-link" href="/2018/cv/notes/5_week5.html">Week 5: Hough Transform (Line and Circle Detection)</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/5_week5a.html">Week 5 - Part1: Recursion, Big-Oh Notation, Markdown</a>
            
          
            
            
            <a class="page-link" href="/2018/cv/notes/6_week6.html">Week 6: Corner Detection</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/6_week6a.html">Week 6 - Part1: Sorting, Bubble Sort, Selection Sort, Learning Resources</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/assignments/7_exercises.html">Exercises 1: C++ Basics and Linear Data Structures</a>
            
          
            
            
            <a class="page-link" href="/2018/cv/notes/7_week7.html">Week 7: Segmentation (Thresholding and Region growing)</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/7_week7a.html">Week 7 - Part1: Revision, Common Mistakes, and Best Practices, Type normalization using C++ templates</a>
            
          
            
            
            <a class="page-link" href="/2018/cv/notes/8_week8.html">Week 8: Segmentation (Clustering Segmentation)</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/8_week8a.html">Week 8 - Part1: Binary Search Trees, Sets (ADT) and Maps (ADT)</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/notes/9_week9.html">Week 9: Heaps, Priority Queues (ADT), and Shortest Path Problem</a>
            
          
            
            
            <a class="page-link" href="/about/">About</a>
            
          
            
            
            <a class="page-link" href="/2018/data-structures/assignments/resumes/asem.html">Resume</a>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        </div>
      </nav>
     -->
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Week 9: Heaps, Priority Queues (ADT), and Shortest Path Problem</h1>
  </header>

  <div class="post-content">
    <ul id="markdown-toc">
  <li><a href="#objectives" id="markdown-toc-objectives">Objectives</a></li>
  <li><a href="#heaps" id="markdown-toc-heaps">Heaps</a>    <ul>
      <li><a href="#glossary" id="markdown-toc-glossary">Glossary</a></li>
      <li><a href="#operations" id="markdown-toc-operations">Operations</a>        <ul>
          <li><a href="#insert" id="markdown-toc-insert">Insert</a>            <ul>
              <li><a href="#example-insert-15" id="markdown-toc-example-insert-15">Example: Insert 15</a></li>
            </ul>
          </li>
          <li><a href="#extract" id="markdown-toc-extract">Extract</a></li>
        </ul>
      </li>
      <li><a href="#implementation-using-arrays" id="markdown-toc-implementation-using-arrays">Implementation using arrays</a>        <ul>
          <li><a href="#implementation-buffer" id="markdown-toc-implementation-buffer">Implementation: Buffer</a></li>
          <li><a href="#implementation-left-child-index" id="markdown-toc-implementation-left-child-index">Implementation: Left Child Index</a></li>
          <li><a href="#implementation-right-child-index" id="markdown-toc-implementation-right-child-index">Implementation: Right Child Index</a></li>
          <li><a href="#implementation-parent-index" id="markdown-toc-implementation-parent-index">Implementation: Parent Index</a></li>
          <li><a href="#implementation-heap-size" id="markdown-toc-implementation-heap-size">Implementation: Heap size</a></li>
          <li><a href="#implementation-insert" id="markdown-toc-implementation-insert">Implementation: Insert</a></li>
          <li><a href="#implementation-bubble-up--sift-up--cascade-up" id="markdown-toc-implementation-bubble-up--sift-up--cascade-up">Implementation: Bubble-up / Sift-up / Cascade-up</a></li>
          <li><a href="#implementation-extract" id="markdown-toc-implementation-extract">Implementation: Extract</a></li>
          <li><a href="#implementation-bubble-down--sift-down--cascade-down" id="markdown-toc-implementation-bubble-down--sift-down--cascade-down">Implementation: Bubble-down / Sift-down / Cascade-down</a></li>
        </ul>
      </li>
      <li><a href="#clone-the-source-code" id="markdown-toc-clone-the-source-code">Clone the source code</a></li>
    </ul>
  </li>
  <li><a href="#heapsort" id="markdown-toc-heapsort">Heapsort</a></li>
  <li><a href="#reading-homework-priority-queue-adt" id="markdown-toc-reading-homework-priority-queue-adt">Reading Homework: Priority Queue (ADT)</a>    <ul>
      <li><a href="#reading-homework-shortest-path-problem" id="markdown-toc-reading-homework-shortest-path-problem">Reading Homework: Shortest Path Problem</a>        <ul>
          <li><a href="#exercise-dijkstra" id="markdown-toc-exercise-dijkstra">Exercise: Dijkstra</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="objectives">Objectives</h2>

<ol>
  <li>Learn about <strong>heap</strong> structure</li>
  <li>Implementing <strong>heap</strong> using arrays</li>
  <li>Implementing <strong>priority queue (ADT)</strong> using <strong>heap</strong></li>
  <li>The Shortest Path Problem (TSP)</li>
</ol>

<h2 id="heaps">Heaps</h2>

<p>Heap is a very useful data structure which is potential in many applications (e.g Heapsort and Priority Queues (ADT)). Heap elements are typically allocated as a dynamic array. However, the elements are conceptually forming a <em>complete</em> tree.</p>

<table>
  <thead>
    <tr>
      <th>Heap as array</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="/gallery/Heap-as-array.svg" alt="heap1" /></td>
    </tr>
    <tr>
      <td>Creative Commons - <a href="https://commons.wikimedia.org/w/index.php?title=User:Maxiantor&amp;action=edit&amp;redlink=1">Maxinator</a></td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Conceptual Representation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="/gallery/heaptree.png" alt="heaptree" /></td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td><img src="/gallery/heapconcrete.png" alt="heapconcrete" /></td>
    </tr>
  </tbody>
</table>

<h3 id="glossary">Glossary</h3>

<ul>
  <li>Complete Tree: A balanced tree in which the distance from the root to any leaf is either $log(n)$ or $log(n)-1$. <a href="https://www.cs.auckland.ac.nz/software/AlgAnim/heaps.html">source</a>.</li>
</ul>

<h3 id="operations">Operations</h3>

<h4 id="insert">Insert</h4>

<p>Inserting an element at the end of the heap typically violates the heap property (i.e each parent is greater than its children for max-heaps), <strong>so after each insertion we need to recover back the heap property</strong>.</p>

<p>The algorithm of insertion (source: <a href="https://en.wikipedia.org/wiki/Binary_heap">wikipedia</a>):</p>

<ol>
  <li>Insert the new element to the bottom level of the heap.</li>
  <li>Compare the added element with its parent; if they are in the correct order, stop.</li>
  <li>If not, swap the element with its parent and return to the previous step.</li>
</ol>

<h5 id="example-insert-15">Example: Insert 15</h5>

<table>
  <thead>
    <tr>
      <th>Steps</th>
      <th>Layout</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td><img src="/gallery/heapindel/Heap_add_step1.svg.png" alt="heapin1" /></td>
    </tr>
    <tr>
      <td>We first place the 15 in the position marked by the X. However, the heap property is violated since 15 &gt; 8, so we need to swap the 15 and the 8</td>
      <td><img src="/gallery/heapindel/Heap_add_step2.svg" alt="heapin2" /></td>
    </tr>
    <tr>
      <td>However the heap property is still violated since 15 &gt; 11, so we need to swap again</td>
      <td><img src="/gallery/heapindel/Heap_add_step3.svg" alt="heapin3" /></td>
    </tr>
    <tr>
      <td>Source: <a href="https://en.wikipedia.org/wiki/Binary_heap">wikipedia</a></td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h4 id="extract">Extract</h4>

<p>In a similar way to insertion, when we pop the maximum of max-heap (its root), we violate the heap property by replacing the last children in the heap to be the new root. In order to recover the heap property, we use the following procedures (source: <a href="https://en.wikipedia.org/wiki/Binary_heap">wikipedia</a>):</p>

<ol>
  <li>Replace the root of the heap with the last element on the last level.</li>
  <li>Compare the new root with its children; if they are in the correct order, stop.</li>
  <li>If not, swap the element with one of its children and return to the previous step. (Swap with its smaller child in a min-heap and its larger child in a max-heap.)</li>
</ol>

<table>
  <thead>
    <tr>
      <th>Steps</th>
      <th>Layout</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td><img src="/gallery/heapindel/Heap_delete_step0.svg" alt="heapdel1" /></td>
    </tr>
    <tr>
      <td>We remove the 11 and replace it with the 4.</td>
      <td><img src="/gallery/heapindel/Heap_delete_step0.svg" alt="heapdel2" /></td>
    </tr>
    <tr>
      <td>Now the heap property is violated since 8 is greater than 4. In this case, swapping the two elements, 4 and 8, is enough to restore the heap property and we need not swap elements further</td>
      <td><img src="/gallery/heapindel/Heap_delete_step0.svg" alt="heapdel3" /></td>
    </tr>
    <tr>
      <td>Source: <a href="https://en.wikipedia.org/wiki/Binary_heap">wikipedia</a></td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="implementation-using-arrays">Implementation using arrays</h3>

<h4 id="implementation-buffer">Implementation: Buffer</h4>

<p><img src="/gallery/Binary_tree_in_array.svg" alt="treearray" /></p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">Heap</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">buffer</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div></div>

<h4 id="implementation-left-child-index">Implementation: Left Child Index</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">getLeftIdx</span><span class="p">(</span><span class="kt">int</span> <span class="n">parent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">parent</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="implementation-right-child-index">Implementation: Right Child Index</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">getRightIdx</span><span class="p">(</span><span class="kt">int</span> <span class="n">parent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">parent</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="implementation-parent-index">Implementation: Parent Index</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">getParentIdx</span><span class="p">(</span><span class="kt">int</span> <span class="n">child</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">child</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">child</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">child</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="implementation-heap-size">Implementation: Heap size</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">size</span><span class="p">(</span><span class="n">Heap</span> <span class="o">&amp;</span><span class="n">h</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="implementation-insert">Implementation: Insert</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">insert</span><span class="p">(</span><span class="n">Heap</span> <span class="o">&amp;</span><span class="n">h</span><span class="p">,</span> <span class="kt">int</span> <span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">childIdx</span> <span class="o">=</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">bubbleUp</span><span class="p">(</span> <span class="n">h</span> <span class="p">,</span> <span class="n">childIdx</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="implementation-bubble-up--sift-up--cascade-up">Implementation: Bubble-up / Sift-up / Cascade-up</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">bubbleUp</span><span class="p">(</span><span class="n">Heap</span> <span class="o">&amp;</span><span class="n">h</span><span class="p">,</span> <span class="kt">int</span> <span class="n">child</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">parent</span> <span class="o">=</span> <span class="n">getParentIdx</span><span class="p">(</span><span class="n">child</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">child</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">parent</span> <span class="o">&gt;=</span> <span class="mi">0</span>  <span class="o">&amp;&amp;</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">child</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">parent</span><span class="p">])</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">child</span><span class="p">],</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">parent</span><span class="p">]);</span>
        <span class="n">bubbleUp</span><span class="p">(</span> <span class="n">h</span> <span class="p">,</span> <span class="n">parent</span> <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="implementation-extract">Implementation: Extract</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">extract</span><span class="p">(</span><span class="n">Heap</span> <span class="o">&amp;</span><span class="n">h</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">child</span> <span class="o">=</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">child</span><span class="p">],</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

    <span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">.</span><span class="n">back</span><span class="p">();</span>
    <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>

    <span class="n">bubbleDown</span><span class="p">(</span> <span class="n">h</span> <span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">value</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="implementation-bubble-down--sift-down--cascade-down">Implementation: Bubble-down / Sift-down / Cascade-down</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">bubbleDown</span><span class="p">(</span><span class="n">Heap</span> <span class="o">&amp;</span><span class="n">h</span><span class="p">,</span> <span class="kt">int</span> <span class="n">parent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="n">getLeftIdx</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">right</span> <span class="o">=</span> <span class="n">getRightIdx</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">length</span> <span class="o">=</span> <span class="n">size</span><span class="p">(</span><span class="n">h</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">minimum</span> <span class="o">=</span> <span class="n">parent</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">length</span> <span class="o">&amp;&amp;</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">minimum</span><span class="p">])</span>
        <span class="n">minimum</span> <span class="o">=</span> <span class="n">left</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">right</span> <span class="o">&lt;</span> <span class="n">length</span> <span class="o">&amp;&amp;</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">minimum</span><span class="p">])</span>
        <span class="n">minimum</span> <span class="o">=</span> <span class="n">right</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">minimum</span> <span class="o">!=</span> <span class="n">parent</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">minimum</span><span class="p">],</span> <span class="n">h</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">parent</span><span class="p">]);</span>
        <span class="n">bubbleDown</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">minimum</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="clone-the-source-code">Clone the source code</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git@github.com:sbme-tutorials/sbe201-heap-pq.git
</code></pre></div></div>

<h2 id="heapsort">Heapsort</h2>

<table>
  <thead>
    <tr>
      <th>Heapsort</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="/gallery/Sorting_heapsort_anim.gif" alt="heapsort" /></td>
    </tr>
    <tr>
      <td>Creative Commons - <a href="https://de.wikipedia.org/wiki/User:RolandH">de:User:RolandH</a></td>
    </tr>
  </tbody>
</table>

<iframe width="560" height="315" src="https://www.youtube.com/embed/H5kAcmGOn4Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>

<p><a href="http://www.zutopedia.com/hs_vs_ms.html">Heaps and Heap Sort</a></p>

<h2 id="reading-homework-priority-queue-adt">Reading Homework: Priority Queue (ADT)</h2>

<ul>
  <li>What is PQ as an ADT.</li>
  <li>How can be implemented using Heap.</li>
  <li>Applications.</li>
</ul>

<h3 id="reading-homework-shortest-path-problem">Reading Homework: Shortest Path Problem</h3>

<ul>
  <li>What is shortest path problem.</li>
  <li>Dijkstra’s algorithm using PQ.</li>
  <li>Applications of Dijkstra.</li>
</ul>

<h4 id="exercise-dijkstra">Exercise: Dijkstra</h4>

<p><img src="/gallery/dijkstra.png" alt="" /></p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/U9Raj6rAqqs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>

<p><img src="/gallery/trees/map.png" style="width:80%;" /></p>

  </div>

</article>

<!-- 
Thanks to Roman Cheplyaka for his instructions to minifying the mathjax package:
https://ro-che.info/articles/2017-04-02-deploying-mathjax 
-->

<script src="/mathjax/MathJax.js"></script>

<script type="text/javascript">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    tex2jax: { inlineMath: [['$', '$'], ['\\(', '\\)']], skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'] },
    jax: ["input/TeX", "output/HTML-CSS"],
    "HTML-CSS": {
      availableFonts: ["TeX"],
      imageFont: null
    },
    MathMenu: {
      showRenderer: false,
      showFontMenu: false,
      showLocale: false
    }
  });
</script>
      </div>
    </main>

    <footer class="site-footer">
  <div class="wrapper">

    <!-- <h2 class="footer-heading">Tutorials for SBME Students</h2> -->

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              Asem Alaa
            
            </li>
            
            <li><a href="mailto:asem.a.abdelaziz@gmail.com">asem.a.abdelaziz@gmail.com</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/A-Alaa"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">A-Alaa</span></a>

          </li>
          

          
            <li>
              <a href="https://linkedin.com/in/asem-alaa">
                <i class="fa fa-linkedin"></i> LinkedIn
              </a>
            </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>These pages shall contain all the materials corresponding to  courses, assigned to me, in the SBME department at Cairo University.</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
