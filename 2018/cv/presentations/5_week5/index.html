<!DOCTYPE html>
<html>
  <head>

    <meta charset="utf-8">
    <title>Week 4: Image Filtering and Edge Detection</title>
    <link rel="stylesheet" href="/css/laminal.css">

  </head>
  <body>
    <textarea id="source">



class: center, middle
 ##   Hough Transform & Corner Detection
 By: Eslam Adel 

 email: eslam.a.mahmoud@eng1.cu.edu.eg

        
---
class: top, left
## What we already studied? 

* Image representation 
* Image Processing
 1. Contrast enhancement (Histogram)
 2. Image filtering 
 3. Image Denoising
* Edge Detection


---

class: top, left
##  What's next ?
* Feature extraction
* object detection 
* object recognition 
* Many applications
1. Manufacturing Industry (industrial robots)
    Applications of basic hough transform.
2. Face detection (Base for recognition)
3. Object Tracking 
---

class: top, left
## Hough Transform
* Proposed by Paul V.C Hough 1962 
* Got USA [Patent](https://patents.google.com/patent/US3069654) 
* Originally for line detection 
* Extended to detect other shapes like , circle, ellipse etc.

---

class:top,left
## Hough Line (Cartesian coordinates)
### Gradient intersect Parameter space
* line equation
$$ y = mx + b $$
* Parameter space m, b
* limitation (slope of vertical line)
<img style="width:85%" class="center" src="../../images/hough-mb_parameter_space.png" >

---

class: top, left
### Hough Line (Polar Coordinates) 
* angle-radius parameter space
* angle in range(-90:90), r in range( -diagonal : diagonal)
<img style="width:75%" class="center" src="../../images/hough_deriving-rho.png">

---

class: top, left
### Basic Hough Line Algorithm

```python
Extract image edges using Canny detector
initialize parameter space r , theta with suitable step
Create accumulator array and initialize to zero
for each edge pixel     
    for each theta
        calculate r = x cos(theta) + y sin(theta)
        Increment accumulator at r, theta
Find Maximum values in accumulator (lines)
Extract related r, theta
Back to image space
```
Lets try to implement it. 

---

class: top, left
### Hough Circle
--

* 3D parameter space 
* Circle 
$$ 
r^2 = (x - x_0)^2 + (y - y_0)^2
$$
* parameter space $x_0$, $y_0$, and r 

<img style="width:80%" src="../../images/HoughCir.png">

* Think about the algorithm 
---
class: top, left
## General hough transform

```python
Extract image edges using Canny detector
initialize parameter space suitable step
Create accumulator array and initialize to zero
for each edge pixel     
    for all parameters
    If point(x,y) satisfy equation: 
    increment accumulator
Find Maximum values in accumulator (lines)
Extract related parameters
Back to image space
```
---

class: top, left

## Feature Detection

### Challenges

* Geometric transformations (Translation, Rotation, Scale)
* Photometric (Brightness, exposure )

### Good Feature

* Distinctive (unique)
* efficient 
* General
---

class: top, left
## Corner Detector
Variation in all directions
<img style="width:90%" src="../../images/Corners.png">

Corner is a good feature
---

class: left, top
## How to detect corners
* Hessian matrix
<img style="width:90%" src="../../images/Hmat.png">

* Eigen vectors and Eigen values
* For both high eigen values (High change in both sides) -> it is a corner

---

class:center ,middle

<img style="width:75%" src="../../images/eig.png">

---

class: top, left
## Harris operator
first-order derivatives of smoothed version (gaussian). 

<img style="width:100%" src="../../images/Harr.png">

 $$ H = \frac{det(G)}{trace(G)}  $$ 
 
 or 
 $$  H = det(G) - a * trace(G)$$ 
 
 trace is sum of diagonal elements

 Select large values 

 Lets See implementation

---

class: center, middle
# Thanks

</textarea>
    
    

<script src="/javascript/jquery-3.3.1.min.js" type="text/javascript"></script>

<script src="/javascript/remark-latest.min.js"></script>

<script type="text/javascript">
  var hljs = remark.highlighter.engine;
</script>
<script src="/javascript/terminal.language.js" type="text/javascript"></script>

<script type="text/javascript">
  var options = {
    highlightStyle: 'monokai',
    countIncrementalSlides: false
  };
  var slideshow = remark.create(options);

  // extract the embedded styling from ansi spans
  $('code.terminal span.hljs-ansi').replaceWith(function (i, x) {
    return x.replace(/&lt;(\/?(\w+).*?)&gt;/g, '<$1>')
  });

</script>

<script src="/mathjax/MathJax.js"></script>

<script type="text/javascript">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']], skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'] },
    jax: ["input/TeX", "output/HTML-CSS"],
    "HTML-CSS": {
      availableFonts: ["TeX"],
      imageFont: null
    },
    MathMenu: {
     showRenderer: false,
     showFontMenu: false,
     showLocale: false
    }
  });
</script>

</body>
</html>